/*! SimpleStateManager | license: MIT | version: 1.3.0 | build date: 2013-08-11 */
!function(a,b){"use strict";var c={},d=[],e=!1,f=0,g=null,h=50,i=null,j=function(){clearTimeout(i),i=setTimeout(k,h)},k=function(){var a,b=null;a=d.length,f=m();for(var c=0;a>c;c++)if(b=d[c],d[c].width>=f){null!==g?g.id!==d[c].id&&(g.onLeave(),g=d[c],g.onEnter()):(g=d[c],g.onEnter()),d[c].onResize();break}e&&console.log(f)};c.enableDebug=function(){return e=!0,this},c.getDebug=function(){return e},c.disableDebug=function(){return e=!1,this},c.addState=function(a){var b={id:l(),width:0,onEnter:function(){},onLeave:function(){},onResize:function(){}};return a=n(b,a),d.push(a),d=o(d,"width"),this},c.removeState=function(a){for(var b=d.length-1;b>=0;b--)d[b].id===a&&d.splice(b,1);return this},c.removeStates=function(a){for(var b=a.length-1;b>=0;b--)c.removeState(a[b]);return this},c.removeAllStates=function(){return d=[],this},c.addStates=function(a){for(var b=a.length-1;b>=0;b--)c.addState(a[b]);return this},c.getState=function(a){return"undefined"==typeof a?g:p(a)},c.setResizeTimeout=function(a){h=a},c.getResizeTimeout=function(){return h},c.ready=function(){for(var a=null,b=d.length,c=0;b>c;c++)if(a=d[c],d[c].width>=f){g=d[c],g.onEnter();break}return this},c.getStates=function(){return d};var l=function(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;10>c;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a},m=function(){var a=0;return self.innerHeight?a=self.innerWidth:b.documentElement&&b.documentElement.clientHeight?a=b.documentElement.clientWidth:b.body&&(a=b.body.clientWidth),a},n=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c},o=function(a,b){return a.sort(function(a,c){var d=a[b],e=c[b];return e>d?-1:d>e?1:0})},p=function(a){for(var b=d.length-1;b>=0;b--)if(d[b].id===a)return d[b]};f=m(),a.attachEvent?a.attachEvent("onresize",j):a.addEventListener&&a.addEventListener("resize",j,!0),a.ssm=c,"function"==typeof a.define&&a.define.amd&&a.define("ssm",[],function(){return a.ssm})}(window,document);